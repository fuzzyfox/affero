<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class TestOfDatabaseAbstractionLayer</title>
			<link rel="stylesheet" href="../../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name">Class TestOfDatabaseAbstractionLayer</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
															<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">TestOfDatabaseAbstractionLayer</p>
<p class="description"><p>This class tests all methods in the Database class. It is an extension  of the UnitTestCase class provided by the simpletest unit testing framework.</p><p>All database connections will be made to the database at 'localhost' named  'ccw_dev' with the username 'root'. The database is set to have no password.</p></p>
		<p class="notes">
			Located in <a class="field" href="_test---php---testcase---database_abstraction_layer.php.html">/test/php/testcase/database_abstraction_layer.php</a> (line <span class="field">30</span>)
		</p>
		
				
		<pre>UnitTestCase
   |
   --TestOfDatabaseAbstractionLayer</pre>
	
			</div>
</div>




	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
												<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																																																																																																																														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#setUp" title="details" class="method-name">setUp</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#tearDown" title="details" class="method-name">tearDown</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#testDatabaseConnectDisconnect" title="details" class="method-name">testDatabaseConnectDisconnect</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#testDatabaseDeleteMethod" title="details" class="method-name">testDatabaseDeleteMethod</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#testDatabaseFreeResultMethod" title="details" class="method-name">testDatabaseFreeResultMethod</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#testDatabaseGetErrorMethod" title="details" class="method-name">testDatabaseGetErrorMethod</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#testDatabaseGetMethodWithLimitations" title="details" class="method-name">testDatabaseGetMethodWithLimitations</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#testDatabaseInitConnectAlias" title="details" class="method-name">testDatabaseInitConnectAlias</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#testDatabaseInsertMethod" title="details" class="method-name">testDatabaseInsertMethod</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#testDatabaseNumRowsMethod" title="details" class="method-name">testDatabaseNumRowsMethod</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#testDatabaseQueryMethod" title="details" class="method-name">testDatabaseQueryMethod</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#testDatabaseTableOptimizeMethod" title="details" class="method-name">testDatabaseTableOptimizeMethod</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#testDatabaseUpdateMethod" title="details" class="method-name">testDatabaseUpdateMethod</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#testEscapeMethod" title="details" class="method-name">testEscapeMethod</a>
										()
									</div>
											</div>
		</div>
	</div>		

	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="methodsetUp" id="setUp"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">setUp</span> (line <span class="line-number">37</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">setUp</p>
<p class="description"><p>Setup for a new database object for each test</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			setUp
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodtearDown" id="tearDown"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">tearDown</span> (line <span class="line-number">48</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">tearDown</p>
<p class="description"><p>Remove the database object at the end of each test to avoid tests  influencing the result of eachother</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			tearDown
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodtestDatabaseConnectDisconnect" id="testDatabaseConnectDisconnect"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">testDatabaseConnectDisconnect</span> (line <span class="line-number">64</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">testDatabaseConnectDisconnect</p>
<p class="description"><p>Test if able to connect/disconnect to the database. Both methods should  assert true if no errors were encountered.</p><p>The connect method should accept a host, database name, username, and  password argument</p><p>The disconnect method should not accept any arguments</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			testDatabaseConnectDisconnect
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodtestDatabaseDeleteMethod" id="testDatabaseDeleteMethod"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">testDatabaseDeleteMethod</span> (line <span class="line-number">235</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Test that we can delete from the database by removing the test data we</p>
<p class="description"><p>just added in the insert method test</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			testDatabaseDeleteMethod
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodtestDatabaseFreeResultMethod" id="testDatabaseFreeResultMethod"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">testDatabaseFreeResultMethod</span> (line <span class="line-number">275</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">test that the memory from the query is freed successfully. Will  assert true on success.</p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			testDatabaseFreeResultMethod
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodtestDatabaseGetErrorMethod" id="testDatabaseGetErrorMethod"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">testDatabaseGetErrorMethod</span> (line <span class="line-number">293</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">test that error reporting works by attempting to select from a</p>
<p class="description"><p>non-existant table in the database</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			testDatabaseGetErrorMethod
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodtestDatabaseGetMethodWithLimitations" id="testDatabaseGetMethodWithLimitations"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">testDatabaseGetMethodWithLimitations</span> (line <span class="line-number">312</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Test by attempting to retrieve just the email of user wduyck in the  database and that the method returns an object representation of the  data it gets.</p>
<p class="description"><p>There should be one row, and the email should be wduyck@gmail.com</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			testDatabaseGetMethodWithLimitations
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodtestDatabaseInitConnectAlias" id="testDatabaseInitConnectAlias"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">testDatabaseInitConnectAlias</span> (line <span class="line-number">80</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">testDatabaseInitConnectAlias</p>
<p class="description"><p>Test the Database class connects to a database on initilization  provided information of the database to connect to.</p><p>The alias should be used in the following manner:</p><p>$database = new Database(host, database name, username, password);</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			testDatabaseInitConnectAlias
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodtestDatabaseInsertMethod" id="testDatabaseInsertMethod"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">testDatabaseInsertMethod</span> (line <span class="line-number">172</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">testDatabaseInsertMethod</p>
<p class="description"><p>This test will create a new user in the database and then check that  we can get the same information back using the query method afterwards.</p><p>It works on the assumption that the query method has passed its test  and works as expected.</p><p>Test data: <ul><li>username = test_user</li><li>password = sha512 hash of 'eiugbkwabgp9bgv3eBÂ£Egib'</li><li>email = test@example.com</li></ul>  The insert method should accept the following arguments  	* table name  	* an associative array of data in the form 'field name' =&gt; 'value'</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			testDatabaseInsertMethod
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodtestDatabaseNumRowsMethod" id="testDatabaseNumRowsMethod"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">testDatabaseNumRowsMethod</span> (line <span class="line-number">256</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Test the number of rows returned by a query by getting all the rows  from the user table and running the num_rows method on the returned  results, then compare this to the number returned by mysql_num_rows.</p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			testDatabaseNumRowsMethod
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodtestDatabaseQueryMethod" id="testDatabaseQueryMethod"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">testDatabaseQueryMethod</span> (line <span class="line-number">111</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">testDatabaseQueryMethod</p>
<p class="description"><p>This test will attempt to get the first user in the database and check  that the details match with what should already be in user record one.</p><p>Test data stored: <ul><li>username = john.doe</li><li>password = 62dee3a48d7a3d9e190c8ba3f2ada76c1bb85aa41b5d5f8f7ed82fef028aaaaa305231c82275b4cd2a4acac5119c6f5ab03666fea9080b776418001d5c2ab206</li><li>email = john.doe@example.com</li></ul>  The query method should accept JUST a sql query string.</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			testDatabaseQueryMethod
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodtestDatabaseTableOptimizeMethod" id="testDatabaseTableOptimizeMethod"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">testDatabaseTableOptimizeMethod</span> (line <span class="line-number">332</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Test attempts to optimise the user table, should assert true on success</p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			testDatabaseTableOptimizeMethod
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodtestDatabaseUpdateMethod" id="testDatabaseUpdateMethod"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">testDatabaseUpdateMethod</span> (line <span class="line-number">213</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">testDatabaseUpdateMethod</p>
<p class="description"><p>This test will check to see if we can update information in the database  by modifying the test data added in testDatabaseInsertMethod.</p><p>It will attempt to change the email to 'test@test.com' and will then  use the query method to check that the data has been changed.</p><p>The update method should accept the following arguments:  	* table name  	* associative array to select the row(s) to modify in the form 'field' =&gt; 'value'  	* associative array of new data in the form 'field' =&gt; 'value'</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			testDatabaseUpdateMethod
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodtestEscapeMethod" id="testEscapeMethod"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">testEscapeMethod</span> (line <span class="line-number">143</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">testEscapeMethod</p>
<p class="description"><p>This test will pass two strings into the function and check that the  output is what is expected which is a string with quotation marks  around it. Should the string already contain quotation marks then these  should be escaped with a backslash.</p><p>An interger and boolean will also be passed into the method to check  that it spits them straight back out unchanged.</p><p>The escape method should accept anything that is passed into the first  argument.</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			testEscapeMethod
		</span>
				()
			</div>
	
		
			
	</div>
						
		</div>
	</div>


	<p class="notes" id="credit">
		Documentation generated on Thu, 28 Apr 2011 17:29:51 +0100 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.3</a>
	</p>
	</div></body>
</html>